# Phase 1: Triplet Extraction Configuration
# Version: 0.2.0 - Fixed model naming, added parallelization

# Model configuration
# CRITICAL FIX: Standardized to Qwen2.5 (Qwen3 doesn't exist yet)
model: "qwen2.5-coder:32b"  # Ollama model name
ollama_url: "http://localhost:11434/v1"

# Extraction parameters
extraction:
  samples_per_paper: 3
  max_goal_words: 200
  rubric_items_range: [5, 8]  # Min, max
  max_reference_words: 500

# Parallelization (MEDIUM FIX: Added for throughput)
# Set to 2-4 for parallel requests if GPU can handle batching
# Set to 1 for sequential (safer, but slower)
parallelization:
  max_workers: 2  # Parallel requests to Ollama

# Database configuration
database:
  path: "/home/user/mcp_servers/polymax-synthesizer/papers.db"
  output_table: "research_triplets"

# Timeout settings
timeout:
  per_paper: 300  # 5 minutes per paper (increased for long contexts)

# Retry logic
retry:
  max_attempts: 3
  backoff: 5  # seconds between retries

# Quality thresholds (for validation)
quality:
  min_goal_words: 30
  max_goal_words: 250
  min_rubric_items: 4
  max_rubric_items: 10
  min_reference_words: 100
  max_reference_words: 800  # Increased for full methods sections

# Output configuration
output:
  triplets_dir: "outputs/triplets"
  logs_dir: "outputs/logs"
  export_json: true
